{"version":3,"sources":["main.js"],"names":["document","paperSizes","B1","B2","C2","A3plus","A3","A4","d","getElementById","canvas","minMargin","paperWidthInput","addEventListener","e","paperSize","target","value","console","log","join","changeHtml","printWidthInput","printWidth","printHeightInput","printHeight","printRunInput","printRun","drawOnCanvas","p_s","calcItems","innerHTML","s","Math","ceil","w","floor","h","ctx","getContext","width","height","strokeStyle","strokeRect","setTransform","y","x"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"../src","sourcesContent":["(function(document) {\n    const paperSizes = {\n        B1: [1000, 700],\n        B2: [700, 500],\n        C2: [640, 460],\n        A3plus: [450, 320],\n        A3: [420, 297],\n        A4: [297, 210]\n    }\n    const d = document.getElementById('output');\n    const canvas = document.getElementById('output_canvas');\n    const minMargin = 10 * 2;\n\n    let paperWidthInput = document.getElementById('paperSize');\n    paperWidthInput.addEventListener('change', (e) => {\n        paperSize = paperSizes[e.target.value];\n        console.log(`Paper size: ${paperSize.join(', ')}`);\n        changeHtml();\n    });\n    let printWidthInput = document.getElementById('printWidth');\n    printWidthInput.addEventListener('change', (e) => {\n        printWidth = e.target.value;\n        changeHtml();\n    });\n    let printHeightInput = document.getElementById('printHeight');\n    printHeightInput.addEventListener('change', (e) => {\n        printHeight = e.target.value;\n        changeHtml();\n    });\n    let printRunInput = document.getElementById('printRun');\n    printRunInput.addEventListener('change', (e) => {\n        printRun = e.target.value;\n        changeHtml();\n    });\n\n    let paperSize = paperSizes.B1;\n    let printWidth = printWidthInput.value;\n    let printHeight = printHeightInput.value;\n    let printRun = 1;\n\n    function changeHtml(){\n        drawOnCanvas();\n        let p_s = calcItems();\n        d.innerHTML = `Pieces/sheet: ${p_s} <br>`;\n        let s = Math.ceil(printRun/(p_s));\n        d.innerHTML += `You need ${s} ${s == 1 ? 'sheet' : 'sheets'}`;\n    }\n\n    function drawOnCanvas(){\n        let w = Math.floor((paperSize[0]-minMargin)/printWidth);\n        let h = Math.floor((paperSize[1]-minMargin)/printHeight);\n        const ctx = canvas.getContext('2d');\n        canvas.width = paperSize[0];\n        canvas.height = paperSize[1];\n        ctx.strokeStyle = '#000000';\n        ctx.strokeRect(0, 0, paperSize[0], paperSize[1]);\n        ctx.setTransform(1, 0, 0, 1, (paperSize[0]-printWidth*w)/2, (paperSize[1]-printHeight*h)/2);\n        for(let y = 0; y < h; y++){\n            for(let x = 0; x < w; x++){\n                ctx.strokeRect(x * printWidth, y * printHeight, printWidth, printHeight);\n            }\n        }\n      }\n\n    function calcItems(){\n        let w = Math.floor((paperSize[0]-minMargin)/printWidth);\n        let h = Math.floor((paperSize[1]-minMargin)/printHeight);\n        return w * h;\n    }\n\n    changeHtml();\n\n})(document);"]}